{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\LearnHub-Course-Subscription-App\\\\frontend\\\\src\\\\pages\\\\CourseDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport api from '../utils/api';\nimport { useAuth } from '../context/AuthContext';\nimport { showToast } from '../utils/toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LEVEL_COLORS = {\n  Beginner: 'bg-emerald-100 text-emerald-700',\n  Intermediate: 'bg-amber-100  text-amber-700',\n  Advanced: 'bg-rose-100   text-rose-700'\n};\nexport default function CourseDetailPage() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    isAuthenticated\n  } = useAuth();\n  const [course, setCourse] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [promoCode, setPromoCode] = useState('');\n  const [promoResult, setPromoResult] = useState(null); // { valid, discountedPrice, savings, originalPrice }\n  const [promoError, setPromoError] = useState('');\n  const [subscribing, setSubscribing] = useState(false);\n  const [alreadyEnrolled, setAlreadyEnrolled] = useState(false);\n  const isFree = (course === null || course === void 0 ? void 0 : course.price) === 0;\n\n  // Fetch course \n  useEffect(() => {\n    api.get(`/courses/${id}`).then(res => setCourse(res.data.course)).catch(() => {\n      showToast('Course not found', 'error');\n      navigate('/');\n    }).finally(() => setLoading(false));\n  }, [id, navigate]);\n\n  // Check if already enrolled\n  useEffect(() => {\n    if (!course || !isAuthenticated) return;\n    api.get('/subscriptions/my-courses').then(res => {\n      const enrolled = res.data.myCourses.some(item => {\n        var _item$course;\n        return ((_item$course = item.course) === null || _item$course === void 0 ? void 0 : _item$course._id) === course._id;\n      });\n      setAlreadyEnrolled(enrolled);\n    }).catch(() => {});\n  }, [course, isAuthenticated]);\n\n  // Validate promo \n  const handleValidatePromo = async () => {\n    setPromoError('');\n    setPromoResult(null);\n    if (!promoCode.trim()) {\n      setPromoError('Enter a promo code');\n      return;\n    }\n    try {\n      const res = await api.post('/subscriptions/validate-promo', {\n        promoCode: promoCode.trim(),\n        courseId: id\n      });\n      setPromoResult(res.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setPromoError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Invalid promo code');\n    }\n  };\n\n  //  Subscribe \n  const handleSubscribe = async () => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    setSubscribing(true);\n    try {\n      await api.post('/subscriptions/subscribe', {\n        courseId: id,\n        promoCode: promoCode.trim() || undefined\n      });\n      showToast(' Successfully enrolled!', 'success');\n      setAlreadyEnrolled(true);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      showToast(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Subscription failed', 'error');\n    } finally {\n      setSubscribing(false);\n    }\n  };\n\n  // Skeleton\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-cream flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-12 h-12 border-4 border-accent border-t-transparent rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n  if (!course) return null;\n\n  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-cream\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-56 sm:h-72 bg-gradient-to-br from-gray-800 to-gray-900 overflow-hidden\",\n      children: [course.image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: course.image,\n        alt: course.title,\n        className: \"w-full h-full object-cover opacity-40\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-gradient-to-t from-ink via-ink/60 to-transparent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-5 right-5\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `px-4 py-1.5 rounded-full text-sm font-bold shadow-lg ${isFree ? 'bg-emerald-500 text-white' : 'bg-white text-ink'}`,\n          children: isFree ? 'FREE' : `$${course.price}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-6 left-0 right-0 max-w-4xl mx-auto px-4 sm:px-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2 mb-2\",\n          children: [course.category && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs font-bold text-accent uppercase tracking-widest bg-accent/20 px-2.5 py-0.5 rounded\",\n            children: course.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 33\n          }, this), course.level && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-xs font-medium px-2.5 py-0.5 rounded ${LEVEL_COLORS[course.level] || ''}`,\n            children: course.level\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-display text-2xl sm:text-3xl font-bold text-white leading-tight\",\n          children: course.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:flex lg:gap-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-4 text-sm text-muted mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDC64 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-ink\",\n                children: course.instructor || 'TBD'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u23F1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-ink\",\n                children: course.duration || '‚Äî'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDCCA \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-ink\",\n                children: course.level || '‚Äî'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-display text-lg font-bold text-ink mb-3\",\n              children: \"About this course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted leading-relaxed\",\n              children: course.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl border border-gray-100 shadow-sm p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-display text-lg font-bold text-ink mb-3\",\n              children: \"What you'll learn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2\",\n              children: [`Core concepts of ${course.category || 'the subject'}`, 'Hands-on real-world projects', 'Industry best practices', 'Problem-solving techniques'].map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2 text-sm text-muted\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-emerald-500 mt-0.5 flex-shrink-0\",\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this), item]\n              }, item, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:w-80 mt-8 lg:mt-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl border border-gray-100 shadow-lg sticky top-24 p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-5\",\n              children: alreadyEnrolled ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-emerald-700 font-semibold text-sm\",\n                  children: \"\\u2713 You are enrolled in this course\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-end justify-center gap-2\",\n                  children: promoResult !== null && promoResult !== void 0 && promoResult.valid ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-4xl font-bold text-ink\",\n                      children: [\"$\", promoResult.discountedPrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-400 line-through mb-1\",\n                      children: [\"$\", promoResult.originalPrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-4xl font-bold text-ink\",\n                    children: isFree ? 'Free' : `$${course.price}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this), (promoResult === null || promoResult === void 0 ? void 0 : promoResult.valid) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-block mt-1 text-xs font-bold text-white bg-emerald-500 px-2.5 py-0.5 rounded-full\",\n                  children: [\"You save $\", promoResult.savings, \"!\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), !isFree && !alreadyEnrolled && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-xs font-semibold text-muted uppercase tracking-wide mb-1.5\",\n                children: \"Promo Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: promoCode,\n                  onChange: e => {\n                    setPromoCode(e.target.value);\n                    setPromoError('');\n                    setPromoResult(null);\n                  },\n                  placeholder: \"e.g. BFSALE25\",\n                  className: `flex-1 px-3 py-2 rounded-xl border text-sm outline-none transition-all\n                        ${promoError ? 'border-red-400 bg-red-50' : promoResult !== null && promoResult !== void 0 && promoResult.valid ? 'border-emerald-400 bg-emerald-50' : 'border-gray-200 focus:border-accent'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleValidatePromo,\n                  className: \"px-3 py-2 rounded-xl bg-surface border border-gray-200 text-xs font-semibold text-muted hover:text-accent hover:border-accent transition-colors\",\n                  children: \"Apply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), promoError && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1.5 text-xs text-red-500\",\n                children: promoError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 35\n              }, this), (promoResult === null || promoResult === void 0 ? void 0 : promoResult.valid) && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1.5 text-xs text-emerald-600 font-semibold\",\n                children: [\"\\u2713 \", promoResult.label, \" discount applied!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 42\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-2 text-xs text-gray-400\",\n                children: [\"\\uD83C\\uDFF7\\uFE0F Try \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-gold\",\n                  children: \"BFSALE25\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 69\n                }, this), \" for 50% off\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), !alreadyEnrolled && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubscribe,\n              disabled: subscribing || !isFree && !(promoResult !== null && promoResult !== void 0 && promoResult.valid),\n              className: `w-full py-3 rounded-xl text-sm font-bold shadow-md transition-all duration-200\n                    ${subscribing || !isFree && !(promoResult !== null && promoResult !== void 0 && promoResult.valid) ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-accent to-rose-600 text-white hover:shadow-lg hover:from-rose-600 hover:to-accent'}`,\n              children: subscribing ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 23\n                }, this), \" Processing\\u2026\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this) : isFree ? 'Enrol for Free' : 'Subscribe Now'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), !isAuthenticated && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center text-xs text-muted mt-3\",\n              children: [\"Please \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/login\",\n                className: \"text-accent font-semibold hover:underline\",\n                children: \"log in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 26\n              }, this), \" to subscribe.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-100 mt-5 pt-4\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-2 text-xs text-muted\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-emerald-500\",\n                    children: \"\\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 59\n                  }, this), \" Lifetime access\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-emerald-500\",\n                    children: \"\\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 59\n                  }, this), \" Certificate of completion\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-emerald-500\",\n                    children: \"\\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 59\n                  }, this), \" Download materials\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-emerald-500\",\n                    children: \"\\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 59\n                  }, this), \" 30-day money-back guarantee\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"text-sm text-muted hover:text-accent transition-colors\",\n          children: \"\\u2190 Back to all courses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n_s(CourseDetailPage, \"vY9bMN5T65njVv195dNjO+yRKDI=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = CourseDetailPage;\nvar _c;\n$RefreshReg$(_c, \"CourseDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","api","useAuth","showToast","jsxDEV","_jsxDEV","Fragment","_Fragment","LEVEL_COLORS","Beginner","Intermediate","Advanced","CourseDetailPage","_s","id","navigate","isAuthenticated","course","setCourse","loading","setLoading","promoCode","setPromoCode","promoResult","setPromoResult","promoError","setPromoError","subscribing","setSubscribing","alreadyEnrolled","setAlreadyEnrolled","isFree","price","get","then","res","data","catch","finally","enrolled","myCourses","some","item","_item$course","_id","handleValidatePromo","trim","post","courseId","err","_err$response","_err$response$data","response","message","handleSubscribe","undefined","_err$response2","_err$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","image","src","alt","title","category","level","instructor","duration","description","map","valid","discountedPrice","originalPrice","savings","type","value","onChange","e","target","placeholder","onClick","label","disabled","href","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Downloads/LearnHub-Course-Subscription-App/frontend/src/pages/CourseDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport api from '../utils/api';\nimport { useAuth } from '../context/AuthContext';\nimport { showToast } from '../utils/toast';\n\nconst LEVEL_COLORS = {\n  Beginner:     'bg-emerald-100 text-emerald-700',\n  Intermediate: 'bg-amber-100  text-amber-700',\n  Advanced:     'bg-rose-100   text-rose-700',\n};\n\nexport default function CourseDetailPage() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { isAuthenticated } = useAuth();\n\n  const [course, setCourse]         = useState(null);\n  const [loading, setLoading]       = useState(true);\n  const [promoCode, setPromoCode]   = useState('');\n  const [promoResult, setPromoResult] = useState(null); // { valid, discountedPrice, savings, originalPrice }\n  const [promoError, setPromoError] = useState('');\n  const [subscribing, setSubscribing] = useState(false);\n  const [alreadyEnrolled, setAlreadyEnrolled] = useState(false);\n\n  const isFree = course?.price === 0;\n\n  // Fetch course \n  useEffect(() => {\n    api.get(`/courses/${id}`)\n      .then((res) => setCourse(res.data.course))\n      .catch(() => { showToast('Course not found', 'error'); navigate('/'); })\n      .finally(() => setLoading(false));\n  }, [id, navigate]);\n\n  // Check if already enrolled\n  useEffect(() => {\n    if (!course || !isAuthenticated) return;\n    api.get('/subscriptions/my-courses')\n      .then((res) => {\n        const enrolled = res.data.myCourses.some(\n          (item) => item.course?._id === course._id\n        );\n        setAlreadyEnrolled(enrolled);\n      })\n      .catch(() => {});\n  }, [course, isAuthenticated]);\n\n  // Validate promo \n  const handleValidatePromo = async () => {\n    setPromoError('');\n    setPromoResult(null);\n    if (!promoCode.trim()) { setPromoError('Enter a promo code'); return; }\n    try {\n      const res = await api.post('/subscriptions/validate-promo', { promoCode: promoCode.trim(), courseId: id });\n      setPromoResult(res.data);\n    } catch (err) {\n      setPromoError(err.response?.data?.message || 'Invalid promo code');\n    }\n  };\n\n  //  Subscribe \n  const handleSubscribe = async () => {\n    if (!isAuthenticated) { navigate('/login'); return; }\n    setSubscribing(true);\n    try {\n      await api.post('/subscriptions/subscribe', {\n        courseId: id,\n        promoCode: promoCode.trim() || undefined,\n      });\n      showToast(' Successfully enrolled!', 'success');\n      setAlreadyEnrolled(true);\n    } catch (err) {\n      showToast(err.response?.data?.message || 'Subscription failed', 'error');\n    } finally {\n      setSubscribing(false);\n    }\n  };\n\n  // Skeleton\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-cream flex items-center justify-center\">\n        <div className=\"w-12 h-12 border-4 border-accent border-t-transparent rounded-full animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!course) return null;\n\n  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */\n  return (\n    <div className=\"min-h-screen bg-cream\">\n      \n      <div className=\"relative h-56 sm:h-72 bg-gradient-to-br from-gray-800 to-gray-900 overflow-hidden\">\n        {course.image && (\n          <img src={course.image} alt={course.title} className=\"w-full h-full object-cover opacity-40\" />\n        )}\n        <div className=\"absolute inset-0 bg-gradient-to-t from-ink via-ink/60 to-transparent\" />\n        \n        <div className=\"absolute top-5 right-5\">\n          <span className={`px-4 py-1.5 rounded-full text-sm font-bold shadow-lg ${isFree ? 'bg-emerald-500 text-white' : 'bg-white text-ink'}`}>\n            {isFree ? 'FREE' : `$${course.price}`}\n          </span>\n        </div>\n        \n        <div className=\"absolute bottom-6 left-0 right-0 max-w-4xl mx-auto px-4 sm:px-6\">\n          <div className=\"flex flex-wrap gap-2 mb-2\">\n            {course.category && <span className=\"text-xs font-bold text-accent uppercase tracking-widest bg-accent/20 px-2.5 py-0.5 rounded\">{course.category}</span>}\n            {course.level    && <span className={`text-xs font-medium px-2.5 py-0.5 rounded ${LEVEL_COLORS[course.level]||''}`}>{course.level}</span>}\n          </div>\n          <h1 className=\"font-display text-2xl sm:text-3xl font-bold text-white leading-tight\">{course.title}</h1>\n        </div>\n      </div>\n\n      \n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 py-10\">\n        <div className=\"lg:flex lg:gap-10\">\n\n          \n          <div className=\"lg:flex-1\">\n           \n            <div className=\"flex flex-wrap gap-4 text-sm text-muted mb-6\">\n              <span>üë§ <strong className=\"text-ink\">{course.instructor || 'TBD'}</strong></span>\n              <span>‚è± <strong className=\"text-ink\">{course.duration || '‚Äî'}</strong></span>\n              <span>üìä <strong className=\"text-ink\">{course.level || '‚Äî'}</strong></span>\n            </div>\n\n           \n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 mb-6\">\n              <h2 className=\"font-display text-lg font-bold text-ink mb-3\">About this course</h2>\n              <p className=\"text-muted leading-relaxed\">{course.description}</p>\n            </div>\n\n           \n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-6\">\n              <h2 className=\"font-display text-lg font-bold text-ink mb-3\">What you'll learn</h2>\n              <ul className=\"space-y-2\">\n                {[\n                  `Core concepts of ${course.category || 'the subject'}`,\n                  'Hands-on real-world projects',\n                  'Industry best practices',\n                  'Problem-solving techniques',\n                ].map((item) => (\n                  <li key={item} className=\"flex items-start gap-2 text-sm text-muted\">\n                    <span className=\"text-emerald-500 mt-0.5 flex-shrink-0\">‚úì</span>\n                    {item}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n\n          \n          <div className=\"lg:w-80 mt-8 lg:mt-0\">\n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-lg sticky top-24 p-6\">\n              \n              <div className=\"text-center mb-5\">\n                {alreadyEnrolled ? (\n                  <div className=\"bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-3\">\n                    <p className=\"text-emerald-700 font-semibold text-sm\">‚úì You are enrolled in this course</p>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"flex items-end justify-center gap-2\">\n                      {promoResult?.valid ? (\n                        <>\n                          <span className=\"text-4xl font-bold text-ink\">${promoResult.discountedPrice}</span>\n                          <span className=\"text-lg text-gray-400 line-through mb-1\">${promoResult.originalPrice}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-4xl font-bold text-ink\">{isFree ? 'Free' : `$${course.price}`}</span>\n                      )}\n                    </div>\n                    {promoResult?.valid && (\n                      <span className=\"inline-block mt-1 text-xs font-bold text-white bg-emerald-500 px-2.5 py-0.5 rounded-full\">\n                        You save ${promoResult.savings}!\n                      </span>\n                    )}\n                  </>\n                )}\n              </div>\n\n             \n              {!isFree && !alreadyEnrolled && (\n                <div className=\"mb-4\">\n                  <label className=\"block text-xs font-semibold text-muted uppercase tracking-wide mb-1.5\">Promo Code</label>\n                  <div className=\"flex gap-2\">\n                    <input\n                      type=\"text\"\n                      value={promoCode}\n                      onChange={(e) => { setPromoCode(e.target.value); setPromoError(''); setPromoResult(null); }}\n                      placeholder=\"e.g. BFSALE25\"\n                      className={`flex-1 px-3 py-2 rounded-xl border text-sm outline-none transition-all\n                        ${promoError ? 'border-red-400 bg-red-50' : promoResult?.valid ? 'border-emerald-400 bg-emerald-50' : 'border-gray-200 focus:border-accent'}`}\n                    />\n                    <button\n                      onClick={handleValidatePromo}\n                      className=\"px-3 py-2 rounded-xl bg-surface border border-gray-200 text-xs font-semibold text-muted hover:text-accent hover:border-accent transition-colors\"\n                    >\n                      Apply\n                    </button>\n                  </div>\n                  {promoError  && <p className=\"mt-1.5 text-xs text-red-500\">{promoError}</p>}\n                  {promoResult?.valid && <p className=\"mt-1.5 text-xs text-emerald-600 font-semibold\">‚úì {promoResult.label} discount applied!</p>}\n                  \n                  <p className=\"mt-2 text-xs text-gray-400\">üè∑Ô∏è Try <span className=\"font-bold text-gold\">BFSALE25</span> for 50% off</p>\n                </div>\n              )}\n\n              \n              {!alreadyEnrolled && (\n                <button\n                  onClick={handleSubscribe}\n                  disabled={subscribing || (!isFree && !promoResult?.valid)}\n                  className={`w-full py-3 rounded-xl text-sm font-bold shadow-md transition-all duration-200\n                    ${subscribing || (!isFree && !promoResult?.valid)\n                      ? 'bg-gray-200 text-gray-400 cursor-not-allowed'\n                      : 'bg-gradient-to-r from-accent to-rose-600 text-white hover:shadow-lg hover:from-rose-600 hover:to-accent'\n                    }`}\n                >\n                  {subscribing ? (\n                    <span className=\"flex items-center justify-center gap-2\">\n                      <span className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" /> Processing‚Ä¶\n                    </span>\n                  ) : isFree ? 'Enrol for Free' : 'Subscribe Now'}\n                </button>\n              )}\n\n              {/* Not logged in nudge */}\n              {!isAuthenticated && (\n                <p className=\"text-center text-xs text-muted mt-3\">\n                  Please <a href=\"/login\" className=\"text-accent font-semibold hover:underline\">log in</a> to subscribe.\n                </p>\n              )}\n\n              {/* Divider + perks */}\n              <div className=\"border-t border-gray-100 mt-5 pt-4\">\n                <ul className=\"space-y-2 text-xs text-muted\">\n                  <li className=\"flex items-center gap-2\"><span className=\"text-emerald-500\">‚úì</span> Lifetime access</li>\n                  <li className=\"flex items-center gap-2\"><span className=\"text-emerald-500\">‚úì</span> Certificate of completion</li>\n                  <li className=\"flex items-center gap-2\"><span className=\"text-emerald-500\">‚úì</span> Download materials</li>\n                  <li className=\"flex items-center gap-2\"><span className=\"text-emerald-500\">‚úì</span> 30-day money-back guarantee</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Back link */}\n        <div className=\"mt-10\">\n          <button onClick={() => navigate('/')} className=\"text-sm text-muted hover:text-accent transition-colors\">‚Üê Back to all courses</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}